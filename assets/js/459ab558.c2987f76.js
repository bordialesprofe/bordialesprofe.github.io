"use strict";(self.webpackChunkbegordiales=self.webpackChunkbegordiales||[]).push([[3468],{5537:(e,n,a)=>{a.d(n,{A:()=>y});var r=a(6540),l=a(4164),o=a(5627),i=a(6347),t=a(372),s=a(604),c=a(1861),d=a(8749);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:r,default:l}}=e;return{value:n,label:a,attributes:r,default:l}}))}(a);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function h(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:a}=e;const l=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,s.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(l.location.search);n.set(o,e),l.replace({...l.location,search:n.toString()})}),[o,l])]}function x(e){const{defaultValue:n,queryString:a=!1,groupId:l}=e,o=p(e),[i,s]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=a.find((e=>e.default))??a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:o}))),[c,u]=m({queryString:a,groupId:l}),[x,g]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[l,o]=(0,d.Dv)(a);return[l,(0,r.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:l}),b=(()=>{const e=c??x;return h({value:e,tabValues:o})?e:null})();(0,t.A)((()=>{b&&s(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),g(e)}),[u,g,o]),tabValues:o}}var g=a(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=a(4848);function j(e){let{className:n,block:a,selectedValue:r,selectValue:i,tabValues:t}=e;const s=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.a_)(),d=e=>{const n=e.currentTarget,a=s.indexOf(n),l=t[a].value;l!==r&&(c(n),i(l))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=s.indexOf(e.currentTarget)+1;n=s[a]??s[0];break}case"ArrowLeft":{const a=s.indexOf(e.currentTarget)-1;n=s[a]??s[s.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.A)("tabs",{"tabs--block":a},n),children:t.map((e=>{let{value:n,label:a,attributes:o}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{s.push(e)},onKeyDown:u,onClick:d,...o,className:(0,l.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":r===n}),children:a??n},n)}))})}function v(e){let{lazy:n,children:a,selectedValue:o}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:(0,l.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function S(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,l.A)("tabs-container",b.tabList),children:[(0,f.jsx)(j,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function y(e){const n=(0,g.A)();return(0,f.jsx)(S,{...e,children:u(e.children)},String(n))}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>t});var r=a(6540);const l={},o=r.createContext(l);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(o.Provider,{value:n},e.children)}},9329:(e,n,a)=>{a.d(n,{A:()=>i});a(6540);var r=a(4164);const l={tabItem:"tabItem_Ymn6"};var o=a(4848);function i(e){let{children:n,hidden:a,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(l.tabItem,i),hidden:a,children:n})}},9736:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"di/UT8/8.2/8.2.1","title":"8.2.1 Separar la pantalla principal","description":"El primer paso para separar el c\xf3digo por responsabilidad consiste en extraer la pantalla principal de main.dart. De esta forma, main.dart se limita a arrancar la aplicaci\xf3n y cada pantalla se define en su propio archivo.","source":"@site/docs/di/UT8/8.2/8.2.1.md","sourceDirName":"di/UT8/8.2","slug":"/di/UT8/8.2/8.2.1","permalink":"/docs/di/UT8/8.2/8.2.1","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"position":1,"title":"8.2.1 Separar la pantalla principal"},"sidebar":"diSidebar","previous":{"title":"8.2 Separaci\xf3n del c\xf3digo por responsabilidad","permalink":"/docs/di/UT8/8.2/"},"next":{"title":"8.2.2 Separar los datos y el modelo","permalink":"/docs/di/UT8/8.2/8.2.2"}}');var l=a(4848),o=a(8453),i=a(5537),t=a(9329);const s={position:1,title:"8.2.1 Separar la pantalla principal"},c=void 0,d={},u=[{value:"1\ufe0f\u20e3 Crear el archivo de pantalla",id:"1\ufe0f\u20e3-crear-el-archivo-de-pantalla",level:3},{value:"2\ufe0f\u20e3 Mover el c\xf3digo de la pantalla",id:"2\ufe0f\u20e3-mover-el-c\xf3digo-de-la-pantalla",level:3},{value:"3\ufe0f\u20e3 Simplificar <code>main.dart</code>",id:"3\ufe0f\u20e3-simplificar-maindart",level:3}];function p(e){const n={admonition:"admonition",br:"br",code:"code",em:"em",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["El primer paso para separar el c\xf3digo por responsabilidad consiste en ",(0,l.jsxs)(n.strong,{children:["extraer la pantalla principal de ",(0,l.jsx)(n.code,{children:"main.dart"})]}),". De esta forma, ",(0,l.jsx)(n.code,{children:"main.dart"})," se limita a arrancar la aplicaci\xf3n y cada pantalla se define en su propio archivo."]}),"\n",(0,l.jsxs)(n.p,{children:["En el ",(0,l.jsx)(n.em,{children:"Sal\xf3n de los H\xe9roes"}),", ",(0,l.jsx)(n.code,{children:"main.dart"})," contiene:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["el arranque de la app (",(0,l.jsx)(n.code,{children:"main()"})," y ",(0,l.jsx)(n.code,{children:"runApp"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["la configuraci\xf3n (",(0,l.jsx)(n.code,{children:"MaterialApp"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"toda la pantalla principal"})," (con su estado, su ",(0,l.jsx)(n.code,{children:"Scaffold"})," y la l\xf3gica de interacci\xf3n)"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Esto funciona, pero hace que el archivo crezca demasiado y mezcle responsabilidades."}),"\n",(0,l.jsx)(n.p,{children:"A continuaci\xf3n se detallan los pasos para separar la pantalla principal."}),"\n",(0,l.jsx)(n.h3,{id:"1\ufe0f\u20e3-crear-el-archivo-de-pantalla",children:"1\ufe0f\u20e3 Crear el archivo de pantalla"}),"\n",(0,l.jsxs)(n.p,{children:["Dentro de ",(0,l.jsx)(n.code,{children:"lib/screens/"}),", se crea un nuevo archivo para la pantalla principal.",(0,l.jsx)(n.br,{}),"\n","Este archivo contendr\xe1:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"el widget de la pantalla"}),"\n",(0,l.jsx)(n.li,{children:"su estado"}),"\n",(0,l.jsx)(n.li,{children:"toda la l\xf3gica de interacci\xf3n asociada"}),"\n"]}),"\n",(0,l.jsxs)(n.admonition,{title:"Convenci\xf3n de nombres para pantallas",type:"note",children:[(0,l.jsxs)(n.p,{children:["En Flutter es habitual nombrar las pantallas con el sufijo ",(0,l.jsx)(n.code,{children:"Screen"})," para identificarlas f\xe1cilmente.",(0,l.jsx)(n.br,{}),"\n","El archivo se escribe en ",(0,l.jsx)(n.em,{children:"snake_case"})," y la clase en ",(0,l.jsx)(n.em,{children:"UpperCamelCase"}),"."]}),(0,l.jsx)(n.p,{children:"Ejemplo:"}),(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Clase: ",(0,l.jsx)(n.code,{children:"SalonHeroesScreen"})]}),"\n",(0,l.jsxs)(n.li,{children:["Archivo: ",(0,l.jsx)(n.code,{children:"salon_heroes_screen.dart"})]}),"\n"]})]}),"\n",(0,l.jsxs)(n.p,{children:["En este punto, ",(0,l.jsxs)(n.strong,{children:[(0,l.jsx)(n.code,{children:"HeroCard"})," se queda tal como est\xe1"]}),", como funci\xf3n dentro de la pantalla."]}),"\n",(0,l.jsx)(n.h3,{id:"2\ufe0f\u20e3-mover-el-c\xf3digo-de-la-pantalla",children:"2\ufe0f\u20e3 Mover el c\xf3digo de la pantalla"}),"\n",(0,l.jsxs)(n.p,{children:["Desde ",(0,l.jsx)(n.code,{children:"main.dart"})," se mueve:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"el widget que representa la pantalla principal"}),"\n",(0,l.jsxs)(n.li,{children:["su clase de estado (si es ",(0,l.jsx)(n.code,{children:"StatefulWidget"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"las funciones auxiliares relacionadas con la pantalla"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["En este momento ",(0,l.jsx)(n.strong,{children:"no se cambia el contenido del c\xf3digo"}),", solo su ubicaci\xf3n."]}),"\n",(0,l.jsxs)(n.h3,{id:"3\ufe0f\u20e3-simplificar-maindart",children:["3\ufe0f\u20e3 Simplificar ",(0,l.jsx)(n.code,{children:"main.dart"})]}),"\n",(0,l.jsxs)(n.p,{children:["Tras mover la pantalla, ",(0,l.jsx)(n.code,{children:"main.dart"})," queda reducido a:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["la funci\xf3n ",(0,l.jsx)(n.code,{children:"main()"})]}),"\n",(0,l.jsxs)(n.li,{children:["el widget ra\xedz (",(0,l.jsx)(n.code,{children:"MaterialApp"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["la referencia a la pantalla principal como ",(0,l.jsx)(n.code,{children:"home"})]}),"\n"]}),"\n",(0,l.jsxs)(i.A,{children:[(0,l.jsx)(t.A,{value:"paso1",label:"main.dart",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",metastring:'title="// lib/main.dart"',children:"    import 'package:flutter/material.dart';\n    import 'screens/salon_heroes_screen.dart';\n\n    void main() {\n      runApp(const MainApp());\n    }\n\n    class MainApp extends StatelessWidget {\n      const MainApp({super.key});\n\n      @override\n      Widget build(BuildContext context) {\n        return const MaterialApp(\n          debugShowCheckedModeBanner: false,\n          home: SalonHeroesScreen(),\n        );\n      }\n    }\n\n"})})}),(0,l.jsx)(t.A,{value:"paso2",label:"salon_heroes_screen.dart",children:(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",metastring:'title="// lib/screens/salon_heroes_screen.dart"',children:"import 'package:flutter/material.dart';\n\n/// Clase Heroe\n/// Representa el modelo de datos de un heroe del Salon de Heroes.\n/// Agrupa toda la informacion necesaria para mostrar una tarjeta en la interfaz.\nclass Heroe {\n  /// Ruta de la imagen del heroe\n  final String imagePath;\n\n  /// Nombre del heroe\n  final String nombre;\n\n  /// Clase o rol del heroe (guerrero, mago, explorador, etc.)\n  final String clase;\n\n  /// Descripcion del heroe que se muestra al interactuar con la tarjeta\n  final String descripcion;\n\n  /// Constructor constante.\n  /// Permite crear objetos Heroe con todos sus datos definidos desde el inicio.\n  const Heroe({\n    required this.imagePath,\n    required this.nombre,\n    required this.clase,\n    required this.descripcion,\n  });\n}\n\nclass SalonHeroesScreen extends StatefulWidget {\n  const SalonHeroesScreen({super.key});\n\n  @override\n  State<SalonHeroesScreen> createState() => _SalonHeroesScreenState();\n}\n\nclass _SalonHeroesScreenState extends State<SalonHeroesScreen> {\n  // -----------------------------\n  // DATOS (lista de objetos)\n  // -----------------------------\n  final List<Heroe> heroes = const [\n    Heroe(\n      imagePath: 'assets/images/enano_pixel_128.png',\n      nombre: 'Borin',\n      clase: 'Guerrero',\n      descripcion: 'Un guerrero enano experto en combate cuerpo a cuerpo.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/explorador_pixel_128.png',\n      nombre: 'Marek',\n      clase: 'Explorador',\n      descripcion: 'Rastreador agil, conoce caminos y trampas del bosque.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/exploradora_pixel_128.png',\n      nombre: 'Selene',\n      clase: 'Exploradora',\n      descripcion: 'Exploradora sigilosa, especialista en reconocimiento.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/guerrero_pixel_128.png',\n      nombre: 'Theron',\n      clase: 'Guerrero',\n      descripcion: 'Caballero disciplinado, defiende al grupo en batalla.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/guerrera_pixel_128.png',\n      nombre: 'Ronan',\n      clase: 'Guerrera',\n      descripcion: 'Guerrera valiente, siempre al frente del combate.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/hechicero_pixel_128.png',\n      nombre: 'Arden',\n      clase: 'Mago',\n      descripcion: 'Mago de fuego, domina hechizos ofensivos.',\n    ),\n    Heroe(\n      imagePath: 'assets/images/hechicera_pixel_128.png',\n      nombre: 'Liora',\n      clase: 'Maga',\n      descripcion: 'Maga arcana, combina magia y estrategia.',\n    ),\n  ];\n\n  // Estado: h\xe9roe seleccionado\n  String heroeSeleccionado = '';\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\n          'Sal\xf3n de h\xe9roes - UT8',\n          style: TextStyle(fontWeight: FontWeight.bold),\n        ),\n        centerTitle: true,\n        backgroundColor: const Color(0xC1035B02),\n        foregroundColor: const Color(0xC1FFFFFF),\n        actions: [\n          IconButton(\n            icon: const Icon(Icons.refresh),\n            tooltip: 'Limpiar selecci\xf3n',\n            onPressed: () {\n              setState(() {\n                heroeSeleccionado = '';\n              });\n            },\n          ),\n        ],\n      ),\n      body: Padding(\n        padding: const EdgeInsets.all(16),\n        child: ListView(\n          children: [\n            for (final heroe in heroes) ...[\n              // `...[ ]` expande los widgets generados por el `for` dentro de `children`.\n              heroCard(\n                context: context,\n                imagePath: heroe.imagePath,\n                nombre: heroe.nombre,\n                clase: heroe.clase,\n                descripcion: heroe.descripcion,\n                seleccionado: heroeSeleccionado == heroe.nombre,\n              ),\n              const SizedBox(height: 12),\n            ],\n          ],\n        ),\n      ),\n    );\n  }\n\n  Widget heroCard({\n    required BuildContext context,\n    required String imagePath,\n    required String nombre,\n    required String clase,\n    required String descripcion,\n    required bool seleccionado,\n  }) {\n    return InkWell(\n      onTap: () {\n        setState(() {\n          heroeSeleccionado = nombre;\n        });\n\n        ScaffoldMessenger.of(context).showSnackBar(\n          SnackBar(content: Text(descripcion)),\n        );\n      },\n      child: Container(\n        padding: const EdgeInsets.all(12),\n        decoration: BoxDecoration(\n          color: seleccionado ? const Color(0xFFDFF2DF) : Colors.white,\n          borderRadius: BorderRadius.circular(12),\n          border: Border.all(\n            color: const Color(0xC1035B02),\n            width: seleccionado ? 4 : 2,\n          ),\n        ),\n        child: Row(\n          children: [\n            Image.asset(imagePath, width: 64, height: 64),\n            const SizedBox(width: 12),\n            Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Text(\n                  nombre,\n                  style: const TextStyle(\n                    fontSize: 18,\n                    fontWeight: FontWeight.bold,\n                  ),\n                ),\n                Text(\n                  clase,\n                  style: const TextStyle(fontSize: 14, color: Colors.grey),\n                ),\n              ],\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}),(0,l.jsxs)(t.A,{value:"paso3",label:"Resultado final",children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)("b",{children:"lib/main.dart"}),(0,l.jsx)("br",{}),"\nQueda reducido a lo esencial:"]}),(0,l.jsxs)("ul",{children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("code",{children:"main()"})," y ",(0,l.jsx)("code",{children:"runApp(...)"})]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("code",{children:"MaterialApp"})," (configuraci\xf3n general)"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("code",{children:"home: SalonHeroesScreen()"})," importado desde ",(0,l.jsx)("code",{children:"screens/"})]})]}),(0,l.jsxs)(n.p,{children:[(0,l.jsx)("b",{children:"lib/screens/salon_heroes_screen.dart"}),(0,l.jsx)("br",{}),"\nMantiene toda la pantalla y su l\xf3gica, sin cambios de comportamiento."]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}}}]);