"use strict";(self.webpackChunkbegordiales=self.webpackChunkbegordiales||[]).push([[1464],{3226:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"dwec/UT8/8.1/8.1.7","title":"8.1.7 Renderizado desde datos y DocumentFragment","description":"En una aplicaci\xf3n web interactiva, lo habitual es tener los datos en JavaScript (arrays u objetos) y generar la interfaz a partir de esos datos. Esto permite pintar listas (avisos, tareas, eventos) sin escribir cada tarjeta a mano en HTML y facilita actualizar la p\xe1gina cuando se a\xf1ade o elimina informaci\xf3n.","source":"@site/docs/dwec/UT8/8.1/8.1.7.md","sourceDirName":"dwec/UT8/8.1","slug":"/dwec/UT8/8.1/8.1.7","permalink":"/docs/dwec/UT8/8.1/8.1.7","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"position":7,"title":"8.1.7 Renderizado desde datos y DocumentFragment"},"sidebar":"dwecSidebar","previous":{"title":"8.1.6 Creaci\xf3n, inserci\xf3n y eliminaci\xf3n de elementos","permalink":"/docs/dwec/UT8/8.1/8.1.6"},"next":{"title":"8.2 Eventos","permalink":"/docs/dwec/UT8/8.2/"}}');var r=n(4848),s=n(8453),o=n(5537),i=n(9329);const l={position:7,title:"8.1.7 Renderizado desde datos y DocumentFragment"},c=void 0,d={},u=[{value:"1\ufe0f\u20e3 Renderizar avisos desde un array de datos",id:"1\ufe0f\u20e3-renderizar-avisos-desde-un-array-de-datos",level:2},{value:"2\ufe0f\u20e3 Usar <code>DocumentFragment</code> para insertar todo de golpe",id:"2\ufe0f\u20e3-usar-documentfragment-para-insertar-todo-de-golpe",level:2}];function m(e){const a={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.p,{children:["En una aplicaci\xf3n web interactiva, lo habitual es tener los datos en JavaScript (arrays u objetos) y ",(0,r.jsx)(a.strong,{children:"generar la interfaz a partir de esos datos"}),". Esto permite pintar listas (avisos, tareas, eventos) sin escribir cada tarjeta a mano en HTML y facilita actualizar la p\xe1gina cuando se a\xf1ade o elimina informaci\xf3n."]}),"\n",(0,r.jsxs)(a.p,{children:["Cuando se van a insertar muchos elementos, ",(0,r.jsx)(a.code,{children:"DocumentFragment"})," ayuda a hacerlo de forma m\xe1s eficiente, porque permite preparar todos los nodos en memoria y a\xf1adirlos al DOM de una sola vez."]}),"\n",(0,r.jsx)(a.h2,{id:"1\ufe0f\u20e3-renderizar-avisos-desde-un-array-de-datos",children:"1\ufe0f\u20e3 Renderizar avisos desde un array de datos"}),"\n",(0,r.jsx)(a.p,{children:"Renderizar desde datos consiste en recorrer un array y crear los elementos necesarios para mostrar cada aviso. De esta forma, la lista se construye de manera autom\xe1tica en funci\xf3n de los datos disponibles."}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-js",metastring:'title="Idea"',children:"datos (array) \u2192 bucle \u2192 crear elementos \u2192 insertar en el contenedor\n"})}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{value:"html",label:"HTML",default:!0,children:(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-html",children:'<section id="lista-avisos"></section> \n'})})}),(0,r.jsxs)(i.A,{value:"js",label:"JavaScript",children:[(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-js",children:'const avisos = [ { titulo: "Aviso 1", texto: "Cambio de aula" },\n                 { titulo: "Aviso 2", texto: "Reuni\xf3n a las 12:00" }, \n                 { titulo: "Aviso 3", texto: "Entrega de autorizaciones" } \n                ];\n\nconst lista = document.querySelector("#lista-avisos");\n\navisos.forEach((aviso) => {\n    const tarjeta = document.createElement("article");\n    tarjeta.classList.add("tarjeta");\n\n    const h3 = document.createElement("h3");\n    h3.textContent = aviso.titulo;\n\n    const p = document.createElement("p");\n    p.textContent = aviso.texto;\n\n    tarjeta.append(h3, p);\n    lista.append(tarjeta);\n});\n'})}),(0,r.jsx)(a.admonition,{type:"explicacion",children:(0,r.jsx)(a.p,{children:"Se recorre el array de avisos y se crea una tarjeta por cada uno. El resultado es una lista generada autom\xe1ticamente desde los datos."})})]})]}),"\n",(0,r.jsxs)(a.h2,{id:"2\ufe0f\u20e3-usar-documentfragment-para-insertar-todo-de-golpe",children:["2\ufe0f\u20e3 Usar ",(0,r.jsx)(a.code,{children:"DocumentFragment"})," para insertar todo de golpe"]}),"\n",(0,r.jsxs)(a.p,{children:["Si se van a a\xf1adir muchos elementos, insertarlos uno a uno puede hacer la p\xe1gina menos fluida. ",(0,r.jsx)(a.code,{children:"DocumentFragment"})," permite preparar todas las tarjetas primero y a\xf1adirlas al DOM con una \xfanica inserci\xf3n."]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-js",metastring:'title="Sintaxis"',children:"const fragmento = document.createDocumentFragment()\ncontenedor.append(fragmento)\n"})}),"\n",(0,r.jsxs)(o.A,{children:[(0,r.jsx)(i.A,{value:"html",label:"HTML",default:!0,children:(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-html",children:'<section id="lista-avisos"></section> \n'})})}),(0,r.jsxs)(i.A,{value:"js",label:"JavaScript",children:[(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-js",children:'const avisos = [ { titulo: "Aviso 1", texto: "Cambio de aula" },\n                 { titulo: "Aviso 2", texto: "Reuni\xf3n a las 12:00" }, \n                 { titulo: "Aviso 3", texto: "Entrega de autorizaciones" } \n                ];\n\nconst lista = document.querySelector("#lista-avisos");\nconst fragmento = document.createDocumentFragment();\n\navisos.forEach((aviso) => {\n    const tarjeta = document.createElement("article");\n    tarjeta.classList.add("tarjeta");\n\n    const h3 = document.createElement("h3");\n    h3.textContent = aviso.titulo;\n\n    const p = document.createElement("p");\n    p.textContent = aviso.texto;\n\n    tarjeta.append(h3, p);\n    fragmento.append(tarjeta);\n});\n\nlista.append(fragmento);\n'})}),(0,r.jsx)(a.admonition,{type:"explicacion",children:(0,r.jsxs)(a.p,{children:["En vez de insertar cada tarjeta directamente en la p\xe1gina, se van acumulando en un fragmento y al final se insertan todas juntas en ",(0,r.jsx)(a.code,{children:"#lista-avisos"}),"."]})})]})]}),"\n",(0,r.jsxs)(a.admonition,{title:"insertar uno a uno vs insertar todo de una vez",type:"info",children:[(0,r.jsxs)(a.p,{children:["Si se insertan elementos ",(0,r.jsx)(a.strong,{children:"uno a uno"})," dentro de un bucle (",(0,r.jsx)(a.code,{children:"contenedor.append(elemento)"})," en cada iteraci\xf3n), el navegador puede tener que recalcular estilos y repintar la p\xe1gina muchas veces. En listas peque\xf1as no suele notarse, pero con muchas tarjetas puede afectar al rendimiento."]}),(0,r.jsxs)(a.p,{children:["Con ",(0,r.jsx)(a.strong,{children:(0,r.jsx)(a.code,{children:"DocumentFragment"})}),", primero se crean y se guardan todos los elementos en memoria y luego se insertan ",(0,r.jsx)(a.strong,{children:"de una sola vez"})," con un \xfanico ",(0,r.jsx)(a.code,{children:"append()"}),". Esto suele ser m\xe1s eficiente y hace que el renderizado sea m\xe1s fluido. Como inconveniente, requiere un poco m\xe1s de c\xf3digo y, si se necesitan mediciones exactas (anchos, altos, posiciones), conviene hacerlas despu\xe9s de insertar el fragmento en el DOM."]})]}),"\n",(0,r.jsx)(a.admonition,{title:"Ventaja clave en apps interactivas",type:"tip",children:(0,r.jsx)(a.p,{children:"Este enfoque es \xfatil porque separa claramente dos partes: los datos (JavaScript) y la vista (DOM). As\xed se puede volver a renderizar la lista cuando cambien los datos, manteniendo el c\xf3digo m\xe1s limpio y evitando duplicidades."})})]})}function p(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},5537:(e,a,n)=>{n.d(a,{A:()=>E});var t=n(6540),r=n(4164),s=n(5627),o=n(6347),i=n(372),l=n(604),c=n(1861),d=n(8749);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function m(e){const{values:a,children:n}=e;return(0,t.useMemo)((()=>{const e=a??function(e){return u(e).map((e=>{let{props:{value:a,label:n,attributes:t,default:r}}=e;return{value:a,label:n,attributes:t,default:r}}))}(n);return function(e){const a=(0,c.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,n])}function p(e){let{value:a,tabValues:n}=e;return n.some((e=>e.value===a))}function h(e){let{queryString:a=!1,groupId:n}=e;const r=(0,o.W6)(),s=function(e){let{queryString:a=!1,groupId:n}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:a,groupId:n});return[(0,l.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const a=new URLSearchParams(r.location.search);a.set(s,e),r.replace({...r.location,search:a.toString()})}),[s,r])]}function v(e){const{defaultValue:a,queryString:n=!1,groupId:r}=e,s=m(e),[o,l]=(0,t.useState)((()=>function(e){let{defaultValue:a,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!p({value:a,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:a,tabValues:s}))),[c,u]=h({queryString:n,groupId:r}),[v,f]=function(e){let{groupId:a}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(a),[r,s]=(0,d.Dv)(n);return[r,(0,t.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:r}),g=(()=>{const e=c??v;return p({value:e,tabValues:s})?e:null})();(0,i.A)((()=>{g&&l(g)}),[g]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),f(e)}),[u,f,s]),tabValues:s}}var f=n(9136);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(4848);function j(e){let{className:a,block:n,selectedValue:t,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const a=e.currentTarget,n=l.indexOf(a),r=i[n].value;r!==t&&(c(a),o(r))},u=e=>{let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;a=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;a=l[n]??l[l.length-1];break}}a?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},a),children:i.map((e=>{let{value:a,label:n,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:t===a?0:-1,"aria-selected":t===a,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...s,className:(0,r.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":t===a}),children:n??a},a)}))})}function x(e){let{lazy:a,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(a){const e=o.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:o.map(((e,a)=>(0,t.cloneElement)(e,{key:a,hidden:e.props.value!==s})))})}function y(e){const a=v(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,b.jsx)(j,{...a,...e}),(0,b.jsx)(x,{...a,...e})]})}function E(e){const a=(0,f.A)();return(0,b.jsx)(y,{...e,children:u(e.children)},String(a))}},8453:(e,a,n)=>{n.d(a,{R:()=>o,x:()=>i});var t=n(6540);const r={},s=t.createContext(r);function o(e){const a=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:a},e.children)}},9329:(e,a,n)=>{n.d(a,{A:()=>o});n(6540);var t=n(4164);const r={tabItem:"tabItem_Ymn6"};var s=n(4848);function o(e){let{children:a,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,o),hidden:n,children:a})}}}]);